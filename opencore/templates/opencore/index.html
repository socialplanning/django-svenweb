{% extends "base.html" %}

{% block head %}
<style type="text/css">
  #oc-content-container {
    min-height: 70em !important;
  }
  .create-wiki-form {
    border: 1px solid black;
    border-radius: 5px;
    padding-left: 10px;
    padding-right: 10px;
  }
  .create-wiki-form h2 {
    padding-bottom: 15px;
  }
  .error {
    font-weight: bold;
    color: red;
  }
</style>
{% endblock %}

{% block content %}
{% if wikis|length %}
<h2>Your wikis</h2>
<ul>
  {% for wiki in wikis %}
  <li>
    <a href="{{wiki.site_home_url}}">{{wiki.name}}</a>
  </li>
  {% endfor %}
</ul>
{% else %}
No wikis have been created yet.
{% endif %}

{% if "ProjectAdmin" in request.get_project_role %}
<div class="create-wiki-form">
<h2>Create a wiki</h2>
<div id="oc-tasktracker">
  <form enctype="multipart/form-data" method="POST">
  {% csrf_token %}
  <p>
    <label for="name">
      Name: <input id="name" type="text" name="name" value="default-wiki" />
      {% if errors.name %}
      <span class="error">{{ errors.name }}</span>
      {% endif %}
    </label>
  </p>

  {% include "opencore/permissions_form.html" %}

  <p style="display: none">
    (Optional) Import an existing opencore wiki? 
  <input type="file" name="opencore_export"
	 size="30" />
  </p>
  
  <input value="Create wiki" type="submit" />
</form>
</div>
</div>
{% endif %}

{% endblock %}
